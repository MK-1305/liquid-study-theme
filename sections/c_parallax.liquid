{{ 'c_parallax.css' | asset_url | stylesheet_tag }}

{% if section.settings.image != blank and section.settings.image_overlay != blank %}
  <div class="c_parallax-overlay">
    <div class="c_parallax_image c_parallax-overlay_image">
      <picture>
        {% if section.settings.image_overlay_sp != blank %}
          <source srcset="{{ section.settings.image_overlay_sp |  image_url: width: 800 }}" media="(max-width: 750px)">
        {% endif %}
        <img
          class="c_image"
          src="{{ section.settings.image_overlay |  image_url: width: 3840 }}"
          width="1920"
          height="800"
          alt="{{ section.settings.image_overlay.alt}}">
      </picture>
    </div>
  </div>
{% endif %}

{% if section.settings.image != blank %}
  <div class="c_parallax-section">
    <div class="c_parallax__wrapper">
      <div class="c_parallax_image">
        <picture>
          {% if section.settings.image_sp != blank %}
            <source srcset="{{ section.settings.image_sp |  image_url: width: 800 }}" media="(max-width: 750px)">
          {% endif %}
          <img
            class="c_image"
            src="{{ section.settings.image |  image_url: width: 3840 }}"
            width="1920"
            height="800"
            alt="{{ section.settings.image.alt}}">
        </picture>
      </div>
    </div>
  </div>
{% endif %}

{% if section.settings.image != blank %}
  <div class="c_parallax-image c_parallax-image--decoration">
    {% if section.settings.image_decoration != blank %}
      <div class="c_parallax__decoration__inner">
        <div class="c_parallax__decoration-image">
          <img
            class="c_image"
            src="{{ section.settings.image_decoration |  image_url: width: 800 }}"
            width="230"
            height="230"
            alt="{{ section.settings.image.alt}}">
        </div>

        {% if section.settings.textarea != blank %}
          <div class="c_parallax__decoration-text">
            {{ section.settings.textarea | newline_to_br }}
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
{% endif %}


{% schema %}
  {
    "name": "カスタムパララックス",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "画像(PC)"
      },
      {
        "type": "image_picker",
        "id": "image_sp",
        "label": "画像(SP)"
      },
      {
        "type": "image_picker",
        "id": "image_overlay",
        "label": "オーバーレイ(PC)"
      },
      {
        "type": "image_picker",
        "id": "image_overlay_sp",
        "label": "オーバーレイ(SP)"
      }, {
        "type": "image_picker",
        "id": "image_decoration",
        "label": "装飾"
      }, {
        "type": "textarea",
        "id": "textarea",
        "label": "テキスト",
        "default": "ここにテキストを入力"
      }
    ],
    "presets": [
      {
        "name": "カスタムパララックス"
      }
    ]
  }
{% endschema %}